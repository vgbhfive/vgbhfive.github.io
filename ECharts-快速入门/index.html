<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="G-QBK8PCQC9B">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.vgbhfive.cn","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="获取ECharts 官网下载在这里我比较推荐去ECharts官网下载，在官网里可以根据你的项目需求而组合你想要的组件。 从Github 上下载最新的release 版本Github地址 npm安装1npm install echarts --save cdn引入你可以在cdnjs、npmcdn、bootcdn 上找到ECharts 的最新版本。">
<meta property="og:type" content="article">
<meta property="og:title" content="ECharts  快速入门">
<meta property="og:url" content="https://blog.vgbhfive.cn/ECharts-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Vgbhfive&#39;s Blog">
<meta property="og:description" content="获取ECharts 官网下载在这里我比较推荐去ECharts官网下载，在官网里可以根据你的项目需求而组合你想要的组件。 从Github 上下载最新的release 版本Github地址 npm安装1npm install echarts --save cdn引入你可以在cdnjs、npmcdn、bootcdn 上找到ECharts 的最新版本。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-04-20T12:46:06.000Z">
<meta property="article:modified_time" content="2020-02-05T06:23:04.000Z">
<meta property="article:author" content="vgbhfive">
<meta property="article:tag" content="ECharts">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.vgbhfive.cn/ECharts-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>ECharts  快速入门 | Vgbhfive's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Vgbhfive's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Vgbhfive's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-pictures">

    <a href="/pictures/" rel="section"><i class="fa fa-th fa-fw"></i>Pictures</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.vgbhfive.cn/ECharts-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
      <meta itemprop="name" content="vgbhfive">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vgbhfive's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ECharts  快速入门
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-04-20 20:46:06" itemprop="dateCreated datePublished" datetime="2019-04-20T20:46:06+08:00">2019-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-05 14:23:04" itemprop="dateModified" datetime="2020-02-05T14:23:04+08:00">2020-02-05</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="获取ECharts"><a href="#获取ECharts" class="headerlink" title="获取ECharts"></a>获取ECharts</h2><ol>
<li>官网下载<br>在这里我比较推荐去<a target="_blank" rel="noopener" href="https://www.echartsjs.com/">ECharts</a>官网下载，在官网里可以根据你的项目需求而组合你想要的组件。</li>
<li>从Github 上下载最新的release 版本<br><a target="_blank" rel="noopener" href="https://github.com/apache/incubator-echarts">Github地址</a></li>
<li>npm安装<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure></li>
<li>cdn引入<br>你可以在cdnjs、npmcdn、bootcdn 上找到ECharts 的最新版本。</li>
</ol>
<span id="more"></span>

<h2 id="引入ECharts"><a href="#引入ECharts" class="headerlink" title="引入ECharts"></a>引入ECharts</h2><p>从ECharts 3开始，不再强制使用AMD 方式按需引入，现在可以像引入其他的JavaScript 文件一样引入。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 ECharts 文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><h3 id="简单样例"><a href="#简单样例" class="headerlink" title="简单样例"></a>简单样例</h3><p>Html代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 echarts.js --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> 	<span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;charts&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 600px;height:400px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>JavaScript代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"> 	<span class="keyword">var</span> chart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;charts&quot;</span>));</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        title : &#123;</span><br><span class="line">            <span class="attr">text</span>: <span class="title function_">getCookie</span>(<span class="string">&quot;userName&quot;</span>) + <span class="string">&quot; - 收入与支出饼状图&quot;</span>,</span><br><span class="line">            <span class="attr">subtext</span>: <span class="string">&#x27;详细信息见上方&#x27;</span>,</span><br><span class="line">            <span class="attr">x</span>:<span class="string">&#x27;center&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        tooltip : &#123;</span><br><span class="line">            <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">            <span class="attr">formatter</span>: <span class="string">&quot;&#123;a&#125; &lt;br/&gt;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">legend</span>: &#123;</span><br><span class="line">            <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span><br><span class="line">            <span class="attr">left</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [<span class="string">&#x27;日常饮食&#x27;</span>,<span class="string">&#x27;交通出行&#x27;</span>,<span class="string">&#x27;服饰美容&#x27;</span>,<span class="string">&#x27;住房缴费&#x27;</span>,<span class="string">&#x27;文教健康&#x27;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        series : [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;访问来源&#x27;</span>,</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">                radius : <span class="string">&#x27;55%&#x27;</span>,</span><br><span class="line">                <span class="attr">center</span>: [<span class="string">&#x27;50%&#x27;</span>, <span class="string">&#x27;60%&#x27;</span>],</span><br><span class="line">                <span class="attr">data</span>:[</span><br><span class="line">                    &#123;<span class="attr">value</span>:<span class="number">3</span>, <span class="attr">name</span>:<span class="string">&#x27;日常饮食&#x27;</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">value</span>:<span class="number">12</span>, <span class="attr">name</span>:<span class="string">&#x27;交通出行&#x27;</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">value</span>:<span class="number">8</span>, <span class="attr">name</span>:<span class="string">&#x27;服饰美容&#x27;</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">value</span>:<span class="number">19</span>, <span class="attr">name</span>:<span class="string">&#x27;住房缴费&#x27;</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">value</span>:<span class="number">20</span>, <span class="attr">name</span>:<span class="string">&#x27;文教健康&#x27;</span>&#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">                    <span class="attr">emphasis</span>: &#123;</span><br><span class="line">                        <span class="attr">shadowBlur</span>: <span class="number">10</span>,</span><br><span class="line">                        <span class="attr">shadowOffsetX</span>: <span class="number">0</span>,</span><br><span class="line">                        <span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(0, 0, 0, 0.5)&#x27;</span></span><br><span class="line">                    &#125;    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">    chart.<span class="title function_">setOption</span>(option);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="个性化图表样式"><a href="#个性化图表样式" class="headerlink" title="个性化图表样式"></a>个性化图表样式</h3><p>ECharts 提供了很丰富的自定义配置选项，并且能够从全局、系列、数据三个层次去设置数据图形的样式。</p>
<ol>
<li><p>南丁格尔图<br>下面的是一个简单的饼图，饼图主要通过扇形的弧度来表示不同科目在总和中的所占比。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"> 	myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">	    series : [</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">name</span>: <span class="string">&#x27;访问来源&#x27;</span>,</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">	            <span class="attr">radius</span>: <span class="string">&#x27;55%&#x27;</span>,</span><br><span class="line">	            <span class="attr">data</span>:[</span><br><span class="line">	                &#123;<span class="attr">value</span>:<span class="number">235</span>, <span class="attr">name</span>:<span class="string">&#x27;视频广告&#x27;</span>&#125;,</span><br><span class="line">	                &#123;<span class="attr">value</span>:<span class="number">274</span>, <span class="attr">name</span>:<span class="string">&#x27;联盟广告&#x27;</span>&#125;,</span><br><span class="line">	                &#123;<span class="attr">value</span>:<span class="number">310</span>, <span class="attr">name</span>:<span class="string">&#x27;邮件营销&#x27;</span>&#125;,</span><br><span class="line">	                &#123;<span class="attr">value</span>:<span class="number">335</span>, <span class="attr">name</span>:<span class="string">&#x27;直接访问&#x27;</span>&#125;,</span><br><span class="line">	                &#123;<span class="attr">value</span>:<span class="number">400</span>, <span class="attr">name</span>:<span class="string">&#x27;搜索引擎&#x27;</span>&#125;</span><br><span class="line">	            ]</span><br><span class="line">	        &#125;</span><br><span class="line">	    ]</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p> 通过设置roseType 支持将饼图显示为南丁格尔图。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roseType : &#x27;angle&#x27;</span><br></pre></td></tr></table></figure>
<p> 南丁格尔图会通过半径表示数据的大小。</p>
</li>
<li><p>阴影中的配置<br>ECharts 中会有一些通用的样式，比如”阴影”、”透明度”、”颜色”、”边框颜色”、”边框宽度”等，这些样式一般都会在itemStyle 里设置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">itemStyle</span>: &#123;</span><br><span class="line">	<span class="attr">shadowBlur</span>: <span class="number">200</span>,</span><br><span class="line">	<span class="attr">shadowOffsetX</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">shadowOffsetY</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(0, 0, 0, 0.5)&#x27;</span>,</span><br><span class="line">	<span class="attr">emphasis</span>: &#123;</span><br><span class="line">        <span class="attr">shadowBlur</span>: <span class="number">200</span>,</span><br><span class="line">        <span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(0, 0, 0, 0.5)&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> itemStyle 的emphasis 是鼠标hover 时候的高亮样式。<br> 这里样例表示的就是鼠标hover 的时候通过阴影突出显示。</p>
</li>
<li><p>深色背景和浅色标签<br>背景色是全局属性，所以直接在option 中设置backgroundColor 。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">backgroundColor</span>: <span class="string">&#x27;#2c343c&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p> 设置textStyle 可以为全局，也可以是局部的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局</span></span><br><span class="line"><span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">textStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;rgba(255, 255, 255, 0.3)&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 局部 </span></span><br><span class="line"><span class="attr">label</span>: &#123;</span><br><span class="line">    <span class="attr">textStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;rgba(255, 255, 255, 0.3)&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">labelLine</span>: &#123;</span><br><span class="line">    <span class="attr">lineStyle</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;rgba(255, 255, 255, 0.3)&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置扇形颜色<br>扇形的颜色也是在itemStyle 中设置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">itemStyle</span>: &#123;</span><br><span class="line">    <span class="comment">// 设置扇形的颜色</span></span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;#c23531&#x27;</span>,</span><br><span class="line">    <span class="attr">shadowBlur</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">shadowColor</span>: <span class="string">&#x27;rgba(0, 0, 0, 0.5)&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 如果只是为了体现明暗度的变化，还有一种快捷的方式就是使用visualMap 组件将数值的大小映射到明暗度。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">visualMap</span>: &#123;</span><br><span class="line">    <span class="comment">// 不显示 visualMap 组件，只用于明暗度的映射</span></span><br><span class="line">    <span class="attr">show</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 映射的最小值为 80</span></span><br><span class="line">    <span class="attr">min</span>: <span class="number">80</span>,</span><br><span class="line">    <span class="comment">// 映射的最大值为 600</span></span><br><span class="line">    <span class="attr">max</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">inRange</span>: &#123;</span><br><span class="line">        <span class="comment">// 明暗度的范围是 0 到 1</span></span><br><span class="line">        <span class="attr">colorLightness</span>: [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="webpack-中使用ECharts"><a href="#webpack-中使用ECharts" class="headerlink" title="webpack 中使用ECharts"></a>webpack 中使用ECharts</h3><p>webpack是目前比较流行的模块打包工具，你可以在使用webpack 的项目中很轻松的引入和使用ECharts 。</p>
<ol>
<li><p>npm安装ECharts<br>使用以下命令来通过npm安装ECharts。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install echarts --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入ECharts<br>通过npm 安装的ECharts 会放在node_modules 目录下。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> echarts = <span class="built_in">require</span>(<span class="string">&#x27;echarts&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;charts&#x27;</span>));</span><br><span class="line"><span class="comment">// 绘制图表</span></span><br><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;ECharts 示例&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [<span class="string">&#x27;日常饮食&#x27;</span>, <span class="string">&#x27;交通出行&#x27;</span>, <span class="string">&#x27;服饰美容&#x27;</span>, <span class="string">&#x27;住房缴费&#x27;</span>, <span class="string">&#x27;文教健康&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>按需引入ECharts 图表和组件<br>在默认使用require(‘echarts’) 时，会引入ECharts 所有的图表和组件，因此体积会很大，所有建议按需引入。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 ECharts 主模块</span></span><br><span class="line"><span class="keyword">var</span> echarts = <span class="built_in">require</span>(<span class="string">&#x27;echarts/lib/echarts&#x27;</span>);</span><br><span class="line"><span class="comment">// 引入柱状图</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;echarts/lib/chart/bar&#x27;</span>);</span><br><span class="line"><span class="comment">// 引入提示框和标题组件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;echarts/lib/component/tooltip&#x27;</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;echarts/lib/component/title&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line"><span class="comment">// 绘制图表</span></span><br><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;ECharts 示例&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [日常饮食<span class="string">&#x27;, &#x27;</span>交通出行<span class="string">&#x27;, &#x27;</span>服饰美容<span class="string">&#x27;, &#x27;</span>住房缴费<span class="string">&#x27;, &#x27;</span>文教健康<span class="string">&#x27;]</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    yAxis: &#123;&#125;,</span></span><br><span class="line"><span class="string">    series: [&#123;</span></span><br><span class="line"><span class="string">        name: &#x27;</span>销量<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        type: &#x27;</span>bar<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        data: [5, 20, 36, 10, 20]</span></span><br><span class="line"><span class="string">    &#125;]</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>按需引入:<br><a target="_blank" rel="noopener" href="https://github.com/apache/incubator-echarts/blob/master/index.js">具体内容</a></p>
</li>
</ol>
<h3 id="ECharts中的样式简介"><a href="#ECharts中的样式简介" class="headerlink" title="ECharts中的样式简介"></a>ECharts中的样式简介</h3><ol>
<li><p>主题(Theme)<br>最简单的更改全局样式就是直接采用颜色主题。<br>在ECharts4 之后，新内置了两套主题，分别是light、dark 。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> chart = echarts.<span class="title function_">init</span>(dom, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> chart = echarts.<span class="title function_">init</span>(dom, <span class="string">&#x27;dark&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>调色盘<br>调色盘可以直接在option 中设置，它给定了一组颜色、图形、系列会自动从其中选择颜色。<br>可以设置全局的调色盘，也可以设置局部的调色盘。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    <span class="comment">// 全局调色盘。</span></span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;#c23531&#x27;</span>,<span class="string">&#x27;#2f4554&#x27;</span>, <span class="string">&#x27;#61a0a8&#x27;</span>, <span class="string">&#x27;#d48265&#x27;</span>, <span class="string">&#x27;#91c7ae&#x27;</span>,<span class="string">&#x27;#749f83&#x27;</span>,  <span class="string">&#x27;#ca8622&#x27;</span>, <span class="string">&#x27;#bda29a&#x27;</span>,<span class="string">&#x27;#6e7074&#x27;</span>, <span class="string">&#x27;#546570&#x27;</span>, <span class="string">&#x27;#c4ccd3&#x27;</span>],</span><br><span class="line"></span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="comment">// 此系列自己的调色盘。</span></span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;#dd6b66&#x27;</span>,<span class="string">&#x27;#759aa0&#x27;</span>,<span class="string">&#x27;#e69d87&#x27;</span>,<span class="string">&#x27;#8dc1a9&#x27;</span>,<span class="string">&#x27;#ea7e53&#x27;</span>,<span class="string">&#x27;#eedd78&#x27;</span>,<span class="string">&#x27;#73a373&#x27;</span>,<span class="string">&#x27;#73b9bc&#x27;</span>,<span class="string">&#x27;#7289ab&#x27;</span>, <span class="string">&#x27;#91ca8c&#x27;</span>,<span class="string">&#x27;#f49f42&#x27;</span>],</span><br><span class="line">        ...</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>,</span><br><span class="line">        <span class="comment">// 此系列自己的调色盘。</span></span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;#37A2DA&#x27;</span>, <span class="string">&#x27;#32C5E9&#x27;</span>, <span class="string">&#x27;#67E0E3&#x27;</span>, <span class="string">&#x27;#9FE6B8&#x27;</span>, <span class="string">&#x27;#FFDB5C&#x27;</span>,<span class="string">&#x27;#ff9f7f&#x27;</span>, <span class="string">&#x27;#fb7293&#x27;</span>, <span class="string">&#x27;#E062AE&#x27;</span>, <span class="string">&#x27;#E690D1&#x27;</span>, <span class="string">&#x27;#e7bcf3&#x27;</span>, <span class="string">&#x27;#9d96f5&#x27;</span>, <span class="string">&#x27;#8378EA&#x27;</span>, <span class="string">&#x27;#96BFFF&#x27;</span>],</span><br><span class="line">        ...</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>直接样式设置<br>直接的样式设置在ECharts 中是最常用的。但是在option 中，在很多地方可以设置itemStyle、lineStyle 等，这些地方可以设置图形元素的颜色、线宽、点的大小、标签文字、标签的样式等。</p>
</li>
<li><p>视觉映射<br>visualMap 组件可以指定数据到颜色、图形尺寸的映射规则。</p>
</li>
</ol>
<h3 id="ECharts-数据管理"><a href="#ECharts-数据管理" class="headerlink" title="ECharts 数据管理"></a>ECharts 数据管理</h3><ol>
<li><p>异步数据加载和更新<br>入门级的数据加载是在初始化后通过setOption() 函数直接填入的，但是很多时候需要异步加载数据。<br>ECharts 中实现数据的异步加载更新非常简单，在图标初始化后并且获取数据后通过setOption() 函数填入数据和配置项即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line"></span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;data.json&#x27;</span>).<span class="title function_">done</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: &#123;</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&#x27;异步数据加载示例&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">        <span class="attr">legend</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>:[<span class="string">&#x27;销量&#x27;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">xAxis</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>: [<span class="string">&quot;衬衫&quot;</span>,<span class="string">&quot;羊毛衫&quot;</span>,<span class="string">&quot;雪纺衫&quot;</span>,<span class="string">&quot;裤子&quot;</span>,<span class="string">&quot;高跟鞋&quot;</span>,<span class="string">&quot;袜子&quot;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">        <span class="attr">series</span>: [&#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 或者可以先设置图标的样式，显示一个空的图标，再获取数据后填入数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line"><span class="comment">// 显示标题，图例和空的坐标轴</span></span><br><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;异步数据加载示例&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tooltip</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">legend</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>:[<span class="string">&#x27;销量&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: []</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步加载数据</span></span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;data.json&#x27;</span>).<span class="title function_">done</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// 填入数据</span></span><br><span class="line">    myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">        <span class="attr">xAxis</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>: data.<span class="property">categories</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">series</span>: [&#123;</span><br><span class="line">            <span class="comment">// 根据名字对应到相应的系列</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: data.<span class="property">data</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用dataset 管理数据<br>ECharts 由数据驱动，数据的改变驱动图层展现的改变，因此动态数据的实现也变得异常简单。<br>所有的数据都是通过setOption() 实现，你只需要定时获取数据，setOption() 函数只需要填入数据，而不是考虑数据到底哪里发生了变化，ECharts 会比对两组数据之间的变化然后通过合适的动画去表现数据的变化。</p>
</li>
<li><p>loading 动画<br>在数据加载的时候，一个空的坐标轴放在画布上是不是让用户觉得出现了bug 。<br>ECharts 默认提供一个简单的数据加载动画。只需要调用showLoading() 函数显示，数据加载完之后再调用hideLoading() 函数隐藏动画。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">myChart.<span class="title function_">showLoading</span>();</span><br><span class="line">   $.<span class="title function_">get</span>(<span class="string">&#x27;data.json&#x27;</span>).<span class="title function_">done</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">	myChart.<span class="title function_">hideLoading</span>();</span><br><span class="line">	myChart.<span class="title function_">setOption</span>(...);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="图表中加入交互组件"><a href="#图表中加入交互组件" class="headerlink" title="图表中加入交互组件"></a>图表中加入交互组件</h3><p>除了图表外，ECharts 还提供了许多的交互组件。<br>比如legend (图例组件)、title(标题组件)、visualMap (视觉映射组件)、dataZoom (数据区域缩放组件)、timeline (时间线组件)。</p>
<p>下面以dataZoom 数据区域缩放组件为例，介绍如何使用这个组件。</p>
<ol>
<li>dataZoom 组件就是对数轴(axis) 进行数据窗口缩放、数据窗口平移操作。</li>
<li>dataZoom 组件可同时存在多个，祈祷共同控制的作用，当控制同一个数轴的组件时，会自动联动。</li>
<li>dataZoom 组件的运行原理是通过数据过滤来达到数据窗口缩放的效果。(数据过滤模式的设置不同，效果也不同。)</li>
<li>dataZoom 组件的数据窗口范围的设置，目前只支持两种方式:百分比形式和绝对数值形式。</li>
<li>dataZoom 组件现在支持的子组件有:<ol>
<li>内置型数据区域缩放组件(dataZoomInside ):<br>  内置于坐标系中。</li>
<li>滑动型数据区域缩放组件(dataZoomSlider ):<br>  有单独的滑动条操作。</li>
<li>框选型数据区域缩放组件(dataZoomSelect ):<br>  全屏的选框进行数据区域缩放。</li>
</ol>
</li>
<li>dataZoom 可以在直角坐标系(gird)、极坐标系(polar) 中实现这一功能。<br> 示例代码：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  	option = &#123;</span><br><span class="line">	    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">	        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">	    &#125;,</span><br><span class="line">	    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">	        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">	    &#125;,</span><br><span class="line">	    <span class="attr">dataZoom</span>: [</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">	            <span class="attr">xAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">	            <span class="attr">start</span>: <span class="number">10</span>,</span><br><span class="line">	            <span class="attr">end</span>: <span class="number">60</span></span><br><span class="line">	        &#125;,</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">	            <span class="attr">xAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">	            <span class="attr">start</span>: <span class="number">10</span>,</span><br><span class="line">	            <span class="attr">end</span>: <span class="number">60</span></span><br><span class="line">	        &#125;,</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">	            <span class="attr">yAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">	            <span class="attr">start</span>: <span class="number">30</span>,</span><br><span class="line">	            <span class="attr">end</span>: <span class="number">80</span></span><br><span class="line">	        &#125;,</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">	            <span class="attr">yAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">	            <span class="attr">start</span>: <span class="number">30</span>,</span><br><span class="line">	            <span class="attr">end</span>: <span class="number">80</span></span><br><span class="line">	        &#125;</span><br><span class="line">	    ],</span><br><span class="line">	    <span class="attr">series</span>: [</span><br><span class="line">	        &#123;</span><br><span class="line">	            <span class="attr">type</span>: <span class="string">&#x27;scatter&#x27;</span>, <span class="comment">// 这是个『散点图』</span></span><br><span class="line">	            <span class="attr">itemStyle</span>: &#123;</span><br><span class="line">	                <span class="attr">opacity</span>: <span class="number">0.8</span></span><br><span class="line">	            &#125;,</span><br><span class="line">	            <span class="attr">symbolSize</span>: <span class="keyword">function</span> (<span class="params">val</span>) &#123;</span><br><span class="line">	                <span class="keyword">return</span> val[<span class="number">2</span>] * <span class="number">40</span>;</span><br><span class="line">	            &#125;,</span><br><span class="line">	            <span class="attr">data</span>: [[<span class="string">&quot;14.616&quot;</span>,<span class="string">&quot;7.241&quot;</span>,<span class="string">&quot;0.896&quot;</span>],[<span class="string">&quot;3.958&quot;</span>,<span class="string">&quot;5.701&quot;</span>,<span class="string">&quot;0.955&quot;</span>],[<span class="string">&quot;2.768&quot;</span>,<span class="string">&quot;8.971&quot;</span>,<span class="string">&quot;0.669&quot;</span>],[<span class="string">&quot;9.051&quot;</span>,<span class="string">&quot;9.710&quot;</span>,<span class="string">&quot;0.171&quot;</span>],[<span class="string">&quot;14.046&quot;</span>,<span class="string">&quot;4.182&quot;</span>,<span class="string">&quot;0.536&quot;</span>],[<span class="string">&quot;12.295&quot;</span>,<span class="string">&quot;1.429&quot;</span>,<span class="string">&quot;0.962&quot;</span>],[<span class="string">&quot;4.417&quot;</span>,<span class="string">&quot;8.167&quot;</span>,<span class="string">&quot;0.113&quot;</span>],[<span class="string">&quot;0.492&quot;</span>,<span class="string">&quot;4.771&quot;</span>,<span class="string">&quot;0.785&quot;</span>],[<span class="string">&quot;7.632&quot;</span>,<span class="string">&quot;2.605&quot;</span>,<span class="string">&quot;0.645&quot;</span>],[<span class="string">&quot;14.242&quot;</span>,<span class="string">&quot;5.042&quot;</span>,<span class="string">&quot;0.368&quot;</span>]]</span><br><span class="line">	        &#125;</span><br><span class="line">	    ]</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="ECharts-中的事件和行为"><a href="#ECharts-中的事件和行为" class="headerlink" title="ECharts 中的事件和行为"></a>ECharts 中的事件和行为</h3><p>在ECharts 的进行相关的操作会触发不同的效果。</p>
<p>ECharts 3 中，事件名称对应DOM 事件名称，均为小写的字符串，样例如下:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myChart.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="comment">// 控制台打印数据的名称</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params.<span class="property">name</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在ECharts 中事件主要分为两种类型:用户鼠标点击事件、交互组件的行为事件。</p>
<ol>
<li><p>鼠标点击事件<br>ECharts 支持的鼠标时间类型有: click、 dbclick、 mousedown、 mousemove、 mouseup、 mouseover、 mouseout、 globalout、 contextmenu 事件。<br>所有的鼠标事件都包含参数params ，这是一个包含点击图形的数据信息的对象。<br>根据传参来判断鼠标点击的具体位置。<br>样例代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基于准备好的dom，初始化ECharts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定图表的配置项和数据</span></span><br><span class="line"><span class="keyword">var</span> option = &#123;</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">data</span>: [<span class="string">&#x27;日常饮食&#x27;</span>,<span class="string">&#x27;交通出行&#x27;</span>,<span class="string">&#x27;服饰美容&#x27;</span>,<span class="string">&#x27;住房缴费&#x27;</span>,<span class="string">&#x27;文教健康&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: [<span class="number">5</span>, <span class="number">20</span>, <span class="number">36</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line"><span class="comment">// 处理点击事件并且判断鼠标点击位置。</span></span><br><span class="line">myChart.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (params.<span class="property">componentType</span> === <span class="string">&#x27;markPoint&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 点击到了 markPoint 上</span></span><br><span class="line">        <span class="keyword">if</span> (params.<span class="property">seriesIndex</span> === <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="comment">// 点击到了 index 为 5 的 series 的 markPoint 上。</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (params.<span class="property">componentType</span> === <span class="string">&#x27;series&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (params.<span class="property">seriesType</span> === <span class="string">&#x27;graph&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (params.<span class="property">dataType</span> === <span class="string">&#x27;edge&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// 点击到了 graph 的 edge（边）上。</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 点击到了 graph 的 node（节点）上。</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 说一下参数params 的具体信息:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // 当前点击的图形元素所属的组件名称，</span><br><span class="line">    // 其值如 &#x27;series&#x27;、&#x27;markLine&#x27;、&#x27;markPoint&#x27;、&#x27;timeLine&#x27; 等。</span><br><span class="line">    componentType: string,</span><br><span class="line">    // 系列类型。值可能为：&#x27;line&#x27;、&#x27;bar&#x27;、&#x27;pie&#x27; 等。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br><span class="line">    seriesType: string,</span><br><span class="line">    // 系列在传入的 option.series 中的 index。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br><span class="line">    seriesIndex: number,</span><br><span class="line">    // 系列名称。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br><span class="line">    seriesName: string,</span><br><span class="line">    // 数据名，类目名</span><br><span class="line">    name: string,</span><br><span class="line">    // 数据在传入的 data 数组中的 index</span><br><span class="line">    dataIndex: number,</span><br><span class="line">    // 传入的原始数据项</span><br><span class="line">    data: Object,</span><br><span class="line">    // sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，</span><br><span class="line">    // dataType 的值会是 &#x27;node&#x27; 或者 &#x27;edge&#x27;，表示当前点击在 node 还是 edge 上。</span><br><span class="line">    // 其他大部分图表中只有一种 data，dataType 无意义。</span><br><span class="line">    dataType: string,</span><br><span class="line">    // 传入的数据值</span><br><span class="line">    value: number|Array</span><br><span class="line">    // 数据图形的颜色。当 componentType 为 &#x27;series&#x27; 时有意义。</span><br><span class="line">    color: string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 使用query 可以对指定的图形元素进行出发回调。<br>样例代码1:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">chart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">series</span>: [&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">&#x27;xx&#x27;</span>, <span class="attr">value</span>: <span class="number">121</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>: <span class="string">&#x27;yy&#x27;</span>, <span class="attr">value</span>: <span class="number">33</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;);</span><br><span class="line">chart.<span class="title function_">on</span>(<span class="string">&#x27;mouseover&#x27;</span>, &#123;<span class="attr">seriesIndex</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;xx&#x27;</span>&#125;, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// series index 1 的系列中的 name 为 &#x27;xx&#x27; 的元素被 &#x27;mouseover&#x27; 时，此方法被回调。</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 样例代码2:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">chart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">series</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;custom&#x27;</span>,</span><br><span class="line">        <span class="attr">renderItem</span>: <span class="keyword">function</span> (<span class="params">params, api</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;group&#x27;</span>,</span><br><span class="line">                <span class="attr">children</span>: [&#123;</span><br><span class="line">                    <span class="attr">type</span>: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;my_el&#x27;</span>,</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>: [[<span class="number">12</span>, <span class="number">33</span>]]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">chart.<span class="title function_">on</span>(<span class="string">&#x27;mouseup&#x27;</span>, &#123;<span class="attr">element</span>: <span class="string">&#x27;my_el&#x27;</span>&#125;, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// name 为 &#x27;my_el&#x27; 的元素被 &#x27;mouseup&#x27; 时，此方法被回调。</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>交互组件的事件行为<br>在ECharts 中基本上所有的组件交互行为都会被触发相应的事件，常用的事件和事件对应参数可以查看官网。<br>样例代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 图例开关的行为只会触发 legendselectchanged 事件</span></span><br><span class="line">myChart.<span class="title function_">on</span>(<span class="string">&#x27;legendselectchanged&#x27;</span>, <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取点击图例的选中状态</span></span><br><span class="line">    <span class="keyword">var</span> isSelected = params.<span class="property">selected</span>[params.<span class="property">name</span>];</span><br><span class="line">    <span class="comment">// 在控制台中打印</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>((isSelected ? <span class="string">&#x27;选中了&#x27;</span> : <span class="string">&#x27;取消选中了&#x27;</span>) + <span class="string">&#x27;图例&#x27;</span> + params.<span class="property">name</span>);</span><br><span class="line">    <span class="comment">// 打印所有图例的状态</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params.<span class="property">selected</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 注：另外代码也可以触发组件行为</p>
</li>
</ol>
<h2 id="总结样例"><a href="#总结样例" class="headerlink" title="总结样例"></a>总结样例</h2><h3 id="实现拖拽"><a href="#实现拖拽" class="headerlink" title="实现拖拽"></a>实现拖拽</h3><ol>
<li><p>样例代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://echarts.baidu.com/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 600px;height:400px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> symbolSize = <span class="number">20</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> data = [[<span class="number">15</span>, <span class="number">0</span>], [-<span class="number">50</span>, <span class="number">10</span>], [-<span class="number">56.5</span>, <span class="number">20</span>], [-<span class="number">46.5</span>, <span class="number">30</span>], [-<span class="number">22.1</span>, <span class="number">40</span>]];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">setOption</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">triggerOn</span>: <span class="string">&#x27;none&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="string">&#x27;X: &#x27;</span> + params.<span class="property">data</span>[<span class="number">0</span>].<span class="title function_">toFixed</span>(<span class="number">2</span>) + <span class="string">&#x27;&lt;br&gt;Y: &#x27;</span> + params.<span class="property">data</span>[<span class="number">1</span>].<span class="title function_">toFixed</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">xAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">min</span>: -<span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">max</span>: <span class="number">80</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">axisLine</span>: &#123;<span class="attr">onZero</span>: <span class="literal">false</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">yAxis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">min</span>: -<span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">max</span>: <span class="number">60</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">axisLine</span>: &#123;<span class="attr">onZero</span>: <span class="literal">false</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">smooth</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">symbolSize</span>: symbolSize,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        ],</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">    myChart.<span class="title function_">setOption</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">graphic</span>: echarts.<span class="property">util</span>.<span class="title function_">map</span>(data, <span class="keyword">function</span> (<span class="params">item, dataIndex</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;circle&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">position</span>: myChart.<span class="title function_">convertToPixel</span>(<span class="string">&#x27;grid&#x27;</span>, item),</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">shape</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">r</span>: symbolSize / <span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">invisible</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">draggable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">ondrag</span>: echarts.<span class="property">util</span>.<span class="title function_">curry</span>(onPointDragging, dataIndex),</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">onmousemove</span>: echarts.<span class="property">util</span>.<span class="title function_">curry</span>(showTooltip, dataIndex),</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">onmouseout</span>: echarts.<span class="property">util</span>.<span class="title function_">curry</span>(hideTooltip, dataIndex),</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">z</span>: <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">graphic</span>: echarts.<span class="property">util</span>.<span class="title function_">map</span>(data, <span class="keyword">function</span> (<span class="params">item, dataIndex</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">position</span>: myChart.<span class="title function_">convertToPixel</span>(<span class="string">&#x27;grid&#x27;</span>, item)</span></span><br><span class="line"><span class="language-javascript">                &#125;;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">showTooltip</span>(<span class="params">dataIndex</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">dispatchAction</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="string">&#x27;showTip&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">seriesIndex</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dataIndex</span>: dataIndex</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">hideTooltip</span>(<span class="params">dataIndex</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">dispatchAction</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="string">&#x27;hideTip&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">onPointDragging</span>(<span class="params">dataIndex, dx, dy</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        data[dataIndex] = myChart.<span class="title function_">convertFromPixel</span>(<span class="string">&#x27;grid&#x27;</span>, <span class="variable language_">this</span>.<span class="property">position</span>);</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: data</span></span><br><span class="line"><span class="language-javascript">            &#125;]</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解析</p>
</li>
<li><p>首先实现一个折线图</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> symbolSize = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个 data 变量在这里单独声明，在后面也会用到。</span></span><br><span class="line"><span class="keyword">var</span> data = [[<span class="number">15</span>, <span class="number">0</span>], [-<span class="number">50</span>, <span class="number">10</span>], [-<span class="number">56.5</span>, <span class="number">20</span>], [-<span class="number">46.5</span>, <span class="number">30</span>], [-<span class="number">22.1</span>, <span class="number">40</span>]];</span><br><span class="line"></span><br><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="attr">xAxis</span>: &#123;</span><br><span class="line">        <span class="attr">min</span>: -<span class="number">100</span>,</span><br><span class="line">        <span class="attr">max</span>: <span class="number">80</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">axisLine</span>: &#123;<span class="attr">onZero</span>: <span class="literal">false</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">yAxis</span>: &#123;</span><br><span class="line">        <span class="attr">min</span>: -<span class="number">30</span>,</span><br><span class="line">        <span class="attr">max</span>: <span class="number">60</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">        <span class="attr">axisLine</span>: &#123;<span class="attr">onZero</span>: <span class="literal">false</span>&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">            <span class="attr">smooth</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">symbolSize</span>: symbolSize, <span class="comment">// 为了方便拖拽，把 symbolSize 尺寸设大了。</span></span><br><span class="line">            <span class="attr">data</span>: data</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>增加拖拽功能<br>使用graphic 组件，在每个点上面，覆盖一个隐藏的可拖拽的点。<br>下面的代码中使用了convertToPixel() 这个API ，进行了data 到像素坐标的转换，从而得到每个点的位置，从而绘制出这些点。<br>myChart.convertToPixel(‘grid’, dataItem) 这行代码中，第一个参数’grid’ ，表示dataItem 在grid 这个组件中（即直角坐标系）中进行转换。<br>所谓像素坐标，就是以echarts 容器dom element 的左上角为零点的以像素为单位的坐标系中的坐标。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">    <span class="comment">// 声明一个 graphic component，里面有若干个 type 为 &#x27;circle&#x27; 的 graphic elements。</span></span><br><span class="line">    <span class="comment">// 这里使用了 echarts.util.map 这个帮助方法，其行为和 Array.prototype.map 一样，但是兼容 es5 以下的环境。</span></span><br><span class="line">    <span class="comment">// 用 map 方法遍历 data 的每项，为每项生成一个圆点。</span></span><br><span class="line">    <span class="attr">graphic</span>: echarts.<span class="property">util</span>.<span class="title function_">map</span>(data, <span class="keyword">function</span> (<span class="params">dataItem, dataIndex</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// &#x27;circle&#x27; 表示这个 graphic element 的类型是圆点。</span></span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            <span class="attr">shape</span>: &#123;</span><br><span class="line">                <span class="comment">// 圆点的半径。</span></span><br><span class="line">                <span class="attr">r</span>: symbolSize / <span class="number">2</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 用 transform 的方式对圆点进行定位。position: [x, y] 表示将圆点平移到 [x, y] 位置。</span></span><br><span class="line">            <span class="comment">// 这里使用了 convertToPixel 这个 API 来得到每个圆点的位置，下面介绍。</span></span><br><span class="line">            <span class="attr">position</span>: myChart.<span class="title function_">convertToPixel</span>(<span class="string">&#x27;grid&#x27;</span>, dataItem),</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 这个属性让圆点不可见（但是不影响他响应鼠标事件）。</span></span><br><span class="line">            <span class="attr">invisible</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// 这个属性让圆点可以被拖拽。</span></span><br><span class="line">            <span class="attr">draggable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// 把 z 值设得比较大，表示这个圆点在最上方，能覆盖住已有的折线图的圆点。</span></span><br><span class="line">            <span class="attr">z</span>: <span class="number">100</span>,</span><br><span class="line">            <span class="comment">// 此圆点的拖拽的响应事件，在拖拽过程中会不断被触发。下面介绍详情。</span></span><br><span class="line">            <span class="comment">// 这里使用了 echarts.util.curry 这个帮助方法，意思是生成一个与 onPointDragging</span></span><br><span class="line">            <span class="comment">// 功能一样的新的函数，只不过第一个参数永远为此时传入的 dataIndex 的值。</span></span><br><span class="line">            <span class="attr">ondrag</span>: echarts.<span class="property">util</span>.<span class="title function_">curry</span>(onPointDragging, dataIndex)</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>拖拽响应事件<br>下面的代码中，使用了convertFromPixel() 这个API ，他是convertToPixel()的逆向过程。<br>myChart.convertFromPixel(‘grid’, this.position) 表示将当前像素坐标转化为grid 组件中的直角坐标的dataItem 值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拖拽某个圆点的过程中会不断调用此函数。</span></span><br><span class="line"><span class="comment">// 此函数中会根据拖拽后的新位置，改变data 中的值，并用新的 data 值，重绘折线图，从而使折线图同步于被拖拽的隐藏圆点。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onPointDragging</span>(<span class="params">dataIndex</span>) &#123;</span><br><span class="line">    <span class="comment">// 这里的 data 就是本文最初的代码块中声明的 data，在这里会被更新。</span></span><br><span class="line">    <span class="comment">// 这里的 this 就是被拖拽的圆点。this.position 就是圆点当前的位置。</span></span><br><span class="line">    data[dataIndex] = myChart.<span class="title function_">convertFromPixel</span>(<span class="string">&#x27;grid&#x27;</span>, <span class="variable language_">this</span>.<span class="property">position</span>);</span><br><span class="line">    <span class="comment">// 用更新后的 data，重绘折线图。</span></span><br><span class="line">    myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">        <span class="attr">series</span>: [&#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: data</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>拖拽后自适应变化<br>在最后，为了拖拽后DOM 的自适应变化，还需要实现以下函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 对每个拖拽圆点重新计算位置，并用 setOption 更新。</span></span><br><span class="line">    myChart.<span class="title function_">setOption</span>(&#123;</span><br><span class="line">        <span class="attr">graphic</span>: echarts.<span class="property">util</span>.<span class="title function_">map</span>(data, <span class="keyword">function</span> (<span class="params">item, dataIndex</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="attr">position</span>: myChart.<span class="title function_">convertToPixel</span>(<span class="string">&#x27;grid&#x27;</span>, item)</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="日历图"><a href="#日历图" class="headerlink" title="日历图"></a>日历图</h3><ol>
<li><p>样例代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height:400px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 模拟数据</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">getVirtulData</span>(<span class="params">year</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            year = year || <span class="string">&#x27;2017&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> date = +echarts.<span class="property">number</span>.<span class="title function_">parseDate</span>(year + <span class="string">&#x27;-01-01&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> end = +echarts.<span class="property">number</span>.<span class="title function_">parseDate</span>(year + <span class="string">&#x27;-12-31&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> dayTime = <span class="number">3600</span> * <span class="number">24</span> * <span class="number">1000</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> data = [];</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> time = date; time &lt;= end; time += dayTime) &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="title function_">push</span>([</span></span><br><span class="line"><span class="language-javascript">                    echarts.<span class="property">format</span>.<span class="title function_">formatTime</span>(<span class="string">&#x27;yyyy-MM-dd&#x27;</span>, time),</span></span><br><span class="line"><span class="language-javascript">                    <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10000</span>)</span></span><br><span class="line"><span class="language-javascript">                ]);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> data;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">visualMap</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">min</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">max</span>: <span class="number">10000</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">calendar</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">range</span>: <span class="string">&#x27;2017&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;heatmap&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">coordinateSystem</span>: <span class="string">&#x27;calendar&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: <span class="title function_">getVirtulData</span>(<span class="number">2017</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>解析</p>
</li>
<li><p>引入js 文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;echarts.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// ...</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>指定DOM 作为容器</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width=100%; height = 400px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置参数<br>在heatmap 图的基础上，加上coordinateSystem: ‘calendar’”和”calendar: {range: ‘2017’} ，此时heatmap 图就变为了日历图。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span><br><span class="line"><span class="keyword">var</span> option = &#123;</span><br><span class="line">    <span class="attr">visualMap</span>: &#123;</span><br><span class="line">        <span class="attr">show</span>: <span class="literal">false</span></span><br><span class="line">        <span class="attr">min</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">max</span>: <span class="number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">calendar</span>: &#123;</span><br><span class="line">        <span class="attr">range</span>: <span class="string">&#x27;2017&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">series</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;heatmap&#x27;</span>,</span><br><span class="line">        <span class="attr">coordinateSystem</span>: <span class="string">&#x27;calendar&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: [[<span class="string">&#x27;2017-01-02&#x27;</span>, <span class="number">900</span>], [<span class="string">&#x27;2017-01-02&#x27;</span>, <span class="number">877</span>], [<span class="string">&#x27;2017-01-02&#x27;</span>, <span class="number">699</span>], ...]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">myChart.<span class="title function_">setOption</span>(option);</span><br></pre></td></tr></table></figure>
</li>
<li><p>自定义参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">range: 设置时间的范围，可支持某年、某月、某天，还可支持跨年</span><br><span class="line"></span><br><span class="line">cellSize: 设置日历格的大小，可支持设置不同高宽，还可支持自适应auto</span><br><span class="line"></span><br><span class="line">width、height: 也可以直接设置改日历图的整体高宽，让其基于已有的高宽全部自适应</span><br><span class="line"></span><br><span class="line">orient: 设置坐标的方向，既可以横着也可以竖着</span><br><span class="line"></span><br><span class="line">splitLine: 设置分隔线样式，也可以直接不显示</span><br><span class="line"></span><br><span class="line">itemStyle: 设置日历格的样式，背景色、方框线颜色大小类型、透明度均可自定义，甚至还能加阴影</span><br><span class="line"></span><br><span class="line">dayLabel: 设置坐标中 星期样式，可以设置星期从第几天开始，快捷设置中英文、甚至是自定义中英文混搭、或局部不显示、通过formatter 可以想怎么显示就怎么显示;</span><br><span class="line"></span><br><span class="line">monthLabel: 设置坐标中 月样式，和星期一样，可快捷设置中英文和自定义混搭</span><br><span class="line"></span><br><span class="line">yearLabel: 设置坐标中 年样式，默认显示一年，通过formatter 文字可以想显示什么就能通过string function任性自定义，上下左右方位随便选;</span><br></pre></td></tr></table></figure></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ECharts/" rel="tag"># ECharts</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/No-serializer-found-for-class-org-hibernate-proxy-pojo-javassist-Javassist/" rel="prev" title="No serializer found for class org.hibernate.proxy.pojo.javassist.Javassist?">
      <i class="fa fa-chevron-left"></i> No serializer found for class org.hibernate.proxy.pojo.javassist.Javassist?
    </a></div>
      <div class="post-nav-item">
    <a href="/for%E5%BE%AA%E7%8E%AF%E4%B8%BA%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E6%97%B6%E9%97%B4%E4%BE%A6%E5%90%AC%E5%99%A8-%E9%97%AD%E5%8C%85%E9%97%AE%E9%A2%98/" rel="next" title="for循环为多个对象添加时间侦听器-闭包问题">
      for循环为多个对象添加时间侦听器-闭包问题 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96ECharts"><span class="nav-number">1.</span> <span class="nav-text">获取ECharts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5ECharts"><span class="nav-number">2.</span> <span class="nav-text">引入ECharts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">开始使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E6%A0%B7%E4%BE%8B"><span class="nav-number">3.1.</span> <span class="nav-text">简单样例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%AA%E6%80%A7%E5%8C%96%E5%9B%BE%E8%A1%A8%E6%A0%B7%E5%BC%8F"><span class="nav-number">3.2.</span> <span class="nav-text">个性化图表样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#webpack-%E4%B8%AD%E4%BD%BF%E7%94%A8ECharts"><span class="nav-number">3.3.</span> <span class="nav-text">webpack 中使用ECharts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECharts%E4%B8%AD%E7%9A%84%E6%A0%B7%E5%BC%8F%E7%AE%80%E4%BB%8B"><span class="nav-number">3.4.</span> <span class="nav-text">ECharts中的样式简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECharts-%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="nav-number">3.5.</span> <span class="nav-text">ECharts 数据管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E8%A1%A8%E4%B8%AD%E5%8A%A0%E5%85%A5%E4%BA%A4%E4%BA%92%E7%BB%84%E4%BB%B6"><span class="nav-number">3.6.</span> <span class="nav-text">图表中加入交互组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ECharts-%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%92%8C%E8%A1%8C%E4%B8%BA"><span class="nav-number">3.7.</span> <span class="nav-text">ECharts 中的事件和行为</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93%E6%A0%B7%E4%BE%8B"><span class="nav-number">4.</span> <span class="nav-text">总结样例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%8B%96%E6%8B%BD"><span class="nav-number">4.1.</span> <span class="nav-text">实现拖拽</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A5%E5%8E%86%E5%9B%BE"><span class="nav-number">4.2.</span> <span class="nav-text">日历图</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="vgbhfive"
      src="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <p class="site-author-name" itemprop="name">vgbhfive</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">135</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/vgbhfive" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;vgbhfive" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:vgbhfive@foxmail.com" title="E-Mail → mailto:vgbhfive@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">陕ICP20002937号 </a>
  </div>

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vgbhfive</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '2ff0dea213e4c7c0bbcc',
      clientSecret: '7f3d808240b513b00a1dbf20d725809acc316b67',
      repo        : 'vgbhfive.github.io',
      owner       : 'vgbhfive',
      admin       : ['vgbhfive'],
      id          : '4aec6eb0d83ab617ebb75f980d050a2f',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
