<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="G-QBK8PCQC9B">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.vgbhfive.cn","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="简介ZooKeeper 是一种用于分布式应用程序的分布式开源协调服务。Zookeeper 公开了一组简单的原语，分布式应用程序可以构建这些原语，以实现更高级别的服务，以实现同步，配置维护以及组和命名。Zookeeper 被设计为易于编程，并使用在熟悉的文件系统目录树结构之后设计的数据模型。它在Java 中运行，并且具有Java 和C 的绑定。众所周知，协调服务很难做到。他们特别容易出现比赛条件和死">
<meta property="og:type" content="article">
<meta property="og:title" content="Zookeeper-快速入门">
<meta property="og:url" content="https://blog.vgbhfive.cn/Zookeeper-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Vgbhfive&#39;s Blog">
<meta property="og:description" content="简介ZooKeeper 是一种用于分布式应用程序的分布式开源协调服务。Zookeeper 公开了一组简单的原语，分布式应用程序可以构建这些原语，以实现更高级别的服务，以实现同步，配置维护以及组和命名。Zookeeper 被设计为易于编程，并使用在熟悉的文件系统目录树结构之后设计的数据模型。它在Java 中运行，并且具有Java 和C 的绑定。众所周知，协调服务很难做到。他们特别容易出现比赛条件和死">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2019/05/11/5cd6cd6213d7f.jpg">
<meta property="og:image" content="https://i.loli.net/2019/05/11/5cd6cd767a7e7.jpg">
<meta property="og:image" content="https://i.loli.net/2019/05/11/5cd6cd92d02b0.jpg">
<meta property="og:image" content="https://i.loli.net/2019/05/11/5cd6cda42aaaa.jpg">
<meta property="og:image" content="https://i.loli.net/2019/05/11/5cd6cdb26a737.jpg">
<meta property="article:published_time" content="2019-04-28T13:54:04.000Z">
<meta property="article:modified_time" content="2020-02-05T06:26:08.000Z">
<meta property="article:author" content="vgbhfive">
<meta property="article:tag" content="Zookeeper">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2019/05/11/5cd6cd6213d7f.jpg">

<link rel="canonical" href="https://blog.vgbhfive.cn/Zookeeper-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Zookeeper-快速入门 | Vgbhfive's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Vgbhfive's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Vgbhfive's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-pictures">

    <a href="/pictures/" rel="section"><i class="fa fa-th fa-fw"></i>Pictures</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.vgbhfive.cn/Zookeeper-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
      <meta itemprop="name" content="vgbhfive">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vgbhfive's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Zookeeper-快速入门
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-04-28 21:54:04" itemprop="dateCreated datePublished" datetime="2019-04-28T21:54:04+08:00">2019-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-05 14:26:08" itemprop="dateModified" datetime="2020-02-05T14:26:08+08:00">2020-02-05</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>ZooKeeper 是一种用于分布式应用程序的分布式开源协调服务。<br>Zookeeper 公开了一组简单的原语，分布式应用程序可以构建这些原语，以实现更高级别的服务，以实现同步，配置维护以及组和命名。<br>Zookeeper 被设计为易于编程，并使用在熟悉的文件系统目录树结构之后设计的数据模型。<br>它在Java 中运行，并且具有Java 和C 的绑定。<br>众所周知，协调服务很难做到。他们特别容易出现比赛条件和死锁等错误。<br>ZooKeeper 背后的动机是减轻分布式应用程序从头开始实施协调服务的责任</p>
<span id="more"></span>

<h4 id="设计目标"><a href="#设计目标" class="headerlink" title="设计目标"></a>设计目标</h4><ol>
<li>简单<br>ZooKeeper 允许分布式进程通过共享的层级命名空间相互协调，该命名空间的组织方式与标准文件系统类似。<br>名称空间由数据寄存器组成 - 在ZooKeeper 用语中称为znodes - 这些与文件和目录类似。<br>与专为存储而设计的典型文件系统不同，ZooKeeper 数据保存在内存中，这意味着ZooKeeper 可以实现高吞吐量和低延迟数量。<br>ZooKeeper 实现非常重视高性能，高可用性，严格有序的访问。<br>ZooKeeper 的性能方面意味着它可以在大型分布式系统中使用。<br>可靠性方面使其不会成为单点故障。严格的排序意味着可以在客户端实现复杂的同步原语。</li>
<li>复制<br>与它协调的分布式进程一样，ZooKeeper 本身也可以在称为集合的一组主机上进行复制。<br>组成ZooKeeper 服务的服务器必须彼此了解。它们维护内存中的状态图像，以及持久性存储中的事务日志和快照。只要大多数服务器可用，ZooKeeper 服务就可用。<br>客户端连接到单个ZooKeeper 服务器。客户端维护TCP 连接，通过该连接发送请求，获取响应，获取监视事件以及发送心跳。如果与服务器的TCP连接中断，则客户端将连接到其他服务器。<br><img src="https://i.loli.net/2019/05/11/5cd6cd6213d7f.jpg" alt="a"></li>
<li>排序<br>ZooKeeper 使用反映所有ZooKeeper 事务顺序的数字标记每个更新。后续操作可以使用该顺序来实现更高级别的抽象，例如同步原语。</li>
<li>快速<br>在“读取主导”工作负载中特别快。ZooKeeper 应用程序在数千台计算机上运行，​​并且在读取比写入更常见的情况下表现最佳，比率大约为10：1。</li>
</ol>
<h4 id="数据模型和分层命名空间"><a href="#数据模型和分层命名空间" class="headerlink" title="数据模型和分层命名空间"></a>数据模型和分层命名空间</h4><p>ZooKeeper 提供的名称空间非常类似于标准文件系统。名称是由斜杠（&#x2F;）分隔的路径元素序列。ZooKeeper 名称空间中的每个节点都由路径标识。<br>ZooKeeper 的分层命名空间:<br><img src="https://i.loli.net/2019/05/11/5cd6cd767a7e7.jpg" alt="a"></p>
<h4 id="节点和短暂节点"><a href="#节点和短暂节点" class="headerlink" title="节点和短暂节点"></a>节点和短暂节点</h4><p>ZooKeeper 命名空间中的每个节点都可以包含与之关联的数据以及子项。这就像拥有一个允许文件也是目录的文件系统。<br>ZooKeeper 旨在存储协调数据：状态信息、配置、位置信息等，因此存储在每个节点的数据通常很小，在字节到千字节范围内。因此我们使用znode 来说明Zookeeper 数据节点。<br>Znodes 维护一个stat 结构，其中包括数据更改、ACL 更改和时间戳的版本号，以允许缓存验证和协调更新。<br>每次znode 的数据更改时，版本号都会增加。（例如，每当客户端检索数据时，它也接收数据的版本。）<br>存储在命名空间中每个znode 的数据以原子方式读取和写入。<br>读取获取与znode关联的所有数据字节，写入替换所有数据。<br>每个节点都有一个访问控制列表（ACL），限制谁可以做什么。<br>ZooKeeper 也有短暂节点的概念。只要创建znode 的会话处于活动状态，就会存在这些znode 。会话结束时，znode 将被删除。</p>
<h4 id="状态更新和查看"><a href="#状态更新和查看" class="headerlink" title="状态更新和查看"></a>状态更新和查看</h4><p>ZooKeeper 支持WATCH 的概念。客户端可以在znode 上设置监视。当znode 更改时，将触发并删除WATCH 。<br>触发监视时，客户端会收到一个数据包，指出znode 已更改。<br>如果客户端与其中一个ZooKeeper 服务器之间的连接中断，则客户端将收到本地通知。</p>
<h4 id="担保"><a href="#担保" class="headerlink" title="担保"></a>担保</h4><p>ZooKeeper 非常快速而且非常简单。由于其目标是构建更复杂的服务（如同步）的基础，因此它提供了一系列保证。<br>这些是：</p>
<ul>
<li>顺序一致性: 客户端的更新将按发送顺序应用。</li>
<li>原子性: 更新成功或失败。没有部分结果。</li>
<li>单系统映像: 无论服务器连接到哪个服务器，客户端都将看到相同的服务视图。</li>
<li>可靠性: 一旦应用了更新，它将从那时起持续到客户端覆盖更新。</li>
<li>及时性: 系统的客户视图保证在特定时间范围内是最新的。</li>
</ul>
<h4 id="简单API"><a href="#简单API" class="headerlink" title="简单API"></a>简单API</h4><p>ZooKeeper的设计目标之一是提供一个非常简单的编程接口。<br>它仅支持以下操作：</p>
<ul>
<li>create: 在树中的某个位置创建一个节点</li>
<li>delete: 删除节点</li>
<li>exists: 测试某个位置是否存在节点</li>
<li>get data: 从节点读取数据</li>
<li>set data: 将数据写入节点</li>
<li>get children: 检索节点的子节点列表</li>
<li>sync: 等待传播数据</li>
</ul>
<h4 id="履行"><a href="#履行" class="headerlink" title="履行"></a>履行</h4><p>ZooKeeper Components 是显示ZooKeeper 服务的高级组件。除请求处理器外，构成ZooKeeper服务的每个服务器都复制其自己的每个组件的副本<br><img src="https://i.loli.net/2019/05/11/5cd6cd92d02b0.jpg" alt="a"><br>复制数据库是包含整个数据树的内存数据库。更新将记录到磁盘以获得可恢复性，并且写入在应用于内存数据库之前会序列化到磁盘。<br>每个ZooKeeper 服务器都为客户端服务。客户端只连接到一台服务器以提交请求。读取请求由每个服务器数据库的本地副本提供服务。更改服务状态，写请求的请求由协议协议处理。<br>作为协议协议的一部分，来自客户端的所有写入请求都被转发到称为领导者的单个服务器。其余的ZooKeeper 服务器（称为关注者）接收来自领导者的消息提议并同意消息传递。<br>消息传递层负责替换失败的领导者并将关注者与领导者同步。<br>ZooKeeper 使用自定义原子消息传递协议。由于消息传递层是原子的，因此ZooKeeper 可以保证本地副本永远不会发散。当领导者收到写入请求时，它会计算应用写入时系统的状态，并将其转换为捕获此新状态的事务。</p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>ZooKeeper 的编程接口非常简单。使用它，您可以实现更高阶的操作，例如同步原语，组成员身份，所有权等。</p>
<h4 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h4><p>ZooKeeper旨在提供高性能。研究表明它是,在读取数量超过写入的应用程序中，它特别高性能，因为写入涉及同步所有服务器的状态。<br><img src="https://i.loli.net/2019/05/11/5cd6cda42aaaa.jpg" alt="a"></p>
<h4 id="可靠性"><a href="#可靠性" class="headerlink" title="可靠性"></a>可靠性</h4><p>为了在注入故障时显示系统随时间的行为，我们运行了由7台机器组成的ZooKeeper 服务。我们运行与以前相同的饱和度基准，但这次我们将写入百分比保持在恒定的30％ ，这是我们预期工作量的保守比率。<br><img src="https://i.loli.net/2019/05/11/5cd6cdb26a737.jpg" alt="a"><br>这是图表中的一些重要观察结果。<br>首先，如果某一台服务器失败，ZooKeeper 也能够维持高吞吐量。但也许更重要的是，领导者选举算法允许系统足够快地恢复以防止吞吐量大幅下降。<br>在我们的观察中，ZooKeeper 选择新领导者的时间不到200毫秒。<br>第三，随着追随者的恢复，ZooKeeper 能够在开始处理请求后再次提高吞吐量。</p>
<h3 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h3><p>主要针对希望尝试它的开发人员，包含一个ZooKeeper 服务器的简单安装说明\一些验证它正在运行的命令以及一个简单的编程示例。</p>
<h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><p>要获取ZooKeeper发行版，请从其中一个Apache下载镜像下载最新的<a target="_blank" rel="noopener" href="http://zookeeper.apache.org/releases.html">稳定</a>版本。</p>
<h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><p>在独立模式下设置ZooKeeper 服务器非常简单。服务器包含在单个JAR 文件中，因此安装包括创建配置。<br>下载完一个稳定的ZooKeeper 版本后，将其解压缩并cd 到root 。<br>要启动ZooKeeper ，您需要一个配置文件。这是一个示例，在<strong>conf&#x2F;zoo.cfg</strong> 中创建它:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tickTime=2000</span><br><span class="line">dataDir=/var/lib/zookeeper</span><br><span class="line">clientPort=2181</span><br></pre></td></tr></table></figure>
<p> 以下是每个字段的含义：</p>
<ul>
<li>tickTime: ZooKeeper 使用的基本时间单位（以毫秒为单位）。它用于做心跳，最小会话超时将是tickTime 的两倍。</li>
<li>dataDir: 存储内存数据库快照的位置，除非另有说明，否则为数据库更新的事务日志。</li>
<li>clientPort: 侦听客户端连接的端口。</li>
</ul>
<p>现在您已创建配置文件，您可以启动ZooKeeper :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/zkServer.sh start</span><br></pre></td></tr></table></figure>
<p>ZooKeeper 使用log4j 记录消息，您将看到日志消息进入控制台（默认）和&#x2F;或日志文件，具体取决于log4j 配置。</p>
<h4 id="管理Zookeeper-存储"><a href="#管理Zookeeper-存储" class="headerlink" title="管理Zookeeper 存储"></a>管理Zookeeper 存储</h4><p>对于长期运行的生产系统，必须在外部管理ZooKeeper 存储（dataDir 和logs ）。</p>
<h4 id="连接Zookeeper"><a href="#连接Zookeeper" class="headerlink" title="连接Zookeeper"></a>连接Zookeeper</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/zkCli.sh -server 127.0.0.1:2181</span><br></pre></td></tr></table></figure>
<p>这使您可以执行简单的文件操作。连接后，您应该看到类似的内容:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Connecting to localhost:2181</span><br><span class="line">log4j:WARN No appenders could be found for logger (org.apache.zookeeper.ZooKeeper).</span><br><span class="line">log4j:WARN Please initialize the log4j system properly.</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">JLine support is enabled</span><br><span class="line">[zkshell: 0]</span><br></pre></td></tr></table></figure>
<p>在shell中，键入help 以获取可从客户端执行的命令列表，如:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 0] help</span><br><span class="line">ZooKeeper host:port cmd args</span><br><span class="line">    get path [watch]</span><br><span class="line">    ls path [watch]</span><br><span class="line">    set path data [version]</span><br><span class="line">    delquota [-n|-b] path</span><br><span class="line">    quit</span><br><span class="line">    printwatches on|off</span><br><span class="line">    create path data acl</span><br><span class="line">    stat path [watch]</span><br><span class="line">    listquota path</span><br><span class="line">    history</span><br><span class="line">    setAcl path acl</span><br><span class="line">    getAcl path</span><br><span class="line">    sync path</span><br><span class="line">    redo cmdno</span><br><span class="line">    addauth scheme auth</span><br><span class="line">    delete path [version]</span><br><span class="line">    deleteall path</span><br><span class="line">    setquota -n|-b val path</span><br></pre></td></tr></table></figure>
<p>从这里，您可以尝试一些简单的命令来感受这个简单的命令行界面。首先，从发出list 命令开始，如ls :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 8] ls /</span><br><span class="line">[zookeeper]</span><br></pre></td></tr></table></figure>
<p>接下来，通过运行创建一个新的znode create &#x2F;zk_test my_data 。这将创建一个新的znode 并将字符串my_data 与节点相关联。你应该看到:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 9] create /zk_test my_data</span><br><span class="line">Created /zk_test</span><br></pre></td></tr></table></figure>
<p>输入另一个ls &#x2F;命令以查看Zookeeper 集群:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 11] ls /</span><br><span class="line">[zookeeper, zk_test]</span><br></pre></td></tr></table></figure>
<p>现在已创建zk_test 目录。<br>接下来，通过运行get 命令验证数据是否与znode 相关联，如下所示:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 12] get /zk_test</span><br><span class="line">my_data</span><br><span class="line">cZxid = 5</span><br><span class="line">ctime = Fri Jun 05 13:57:06 PDT 2009</span><br><span class="line">mZxid = 5</span><br><span class="line">mtime = Fri Jun 05 13:57:06 PDT 2009</span><br><span class="line">pZxid = 5</span><br><span class="line">cversion = 0</span><br><span class="line">dataVersion = 0</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0</span><br><span class="line">dataLength = 7</span><br><span class="line">numChildren = 0</span><br></pre></td></tr></table></figure>
<p>我们可以通过设置set 命令来更改与zk_test 关联的数据，如下所示:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 14] set /zk_test junk</span><br><span class="line">cZxid = 5</span><br><span class="line">ctime = Fri Jun 05 13:57:06 PDT 2009</span><br><span class="line">mZxid = 6</span><br><span class="line">mtime = Fri Jun 05 14:01:52 PDT 2009</span><br><span class="line">pZxid = 5</span><br><span class="line">cversion = 0</span><br><span class="line">dataVersion = 1</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0</span><br><span class="line">dataLength = 4</span><br><span class="line">numChildren = 0</span><br><span class="line">[zkshell: 15] get /zk_test</span><br><span class="line">junk</span><br><span class="line">cZxid = 5</span><br><span class="line">ctime = Fri Jun 05 13:57:06 PDT 2009</span><br><span class="line">mZxid = 6</span><br><span class="line">mtime = Fri Jun 05 14:01:52 PDT 2009</span><br><span class="line">pZxid = 5</span><br><span class="line">cversion = 0</span><br><span class="line">dataVersion = 1</span><br><span class="line">aclVersion = 0</span><br><span class="line">ephemeralOwner = 0</span><br><span class="line">dataLength = 4</span><br><span class="line">numChildren = 0</span><br></pre></td></tr></table></figure>
<p>注意我们get 在设置数据之后做了一次，确实改变了。<br>让我们delete 通过发出以下节点:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[zkshell: 16] delete /zk_test</span><br><span class="line">[zkshell: 17] ls /</span><br><span class="line">[zookeeper]</span><br><span class="line">[zkshell: 18]</span><br></pre></td></tr></table></figure>

<h4 id="编程Zookeeper"><a href="#编程Zookeeper" class="headerlink" title="编程Zookeeper"></a>编程Zookeeper</h4><p>ZooKeeper 具有<strong>Java</strong> 绑定和<strong>C</strong> 绑定。它们在功能上是等价的。<br>C 绑定有两种变体：单线程和多线程。这些仅在消息传递循环的完成方式上有所不同。</p>
<h4 id="运行Zookeeper"><a href="#运行Zookeeper" class="headerlink" title="运行Zookeeper"></a>运行Zookeeper</h4><p>在独立模式下运行ZooKeeper 便于评估，开发和测试。<br>但在生产中，您应该以复制模式运行ZooKeeper 。同一应用程序中的复制服务器组称为仲裁，在复制模式下，仲裁中的所有服务器都具有相同配置文件的副本。<br><small><strong>注： 对于复制模式，至少需要三台服务器，强烈建议您使用奇数个服务器。</strong></small><br>复制模式所需的<strong>conf&#x2F;zoo.cfg</strong> 文件类似于独立模式中使用的文件，但有一些差异。这是一个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tickTime=2000</span><br><span class="line">dataDir=/var/lib/zookeeper</span><br><span class="line">clientPort=2181</span><br><span class="line">initLimit=5</span><br><span class="line">syncLimit=2</span><br><span class="line">server.1=zoo1:2888:3888</span><br><span class="line">server.2=zoo2:2888:3888</span><br><span class="line">server.3=zoo3:2888:3888</span><br></pre></td></tr></table></figure>
<ul>
<li>新配置项<strong>initLimit</strong> 是暂停ZooKeeper 用于限制仲裁中ZooKeeper 服务器连接到领导者的时间长度。</li>
<li>配置项<strong>syncLimit</strong> 限制服务器与领导者的过期时间。</li>
<li>表单<strong>server.X</strong> 的条目列出构成ZooKeeper 服务的服务器。当服务器启动时，它通过在数据目录中查找文件myid 来知道它是哪个服务器。该文件包含服务器编号，ASCII 格式。</li>
<li>对等方使用以前的端口连接到其他对等方。这种连接是必要的，以便对等方可以进行通信。更具体地说，ZooKeeper 服务器使用此端口将关注者连接到领导者。当新的领导者出现时，跟随者使用此端口打开与领导者的TCP 连接。由于默认的领导者选举也使用TCP ，我们目前需要另一个端口进行领导者选举。这是服务器条目中的第二个端口。</li>
</ul>
<h4 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h4><ul>
<li>要在更新时获得较低的延迟，请务必拥有专用的事务日志目录。默认情况下，事务日志与数据快照和myid文件放在同一目录中。dataLogDir参数指示用于事务日志的不同目录。</li>
</ul>
<hr>

<h3 id="Java-示例"><a href="#Java-示例" class="headerlink" title="Java 示例"></a>Java 示例</h3><p>为了介绍ZooKeeper Java API ，我们在这里开发了一个非常简单的客户端。<br>此ZooKeeper 客户端监视ZooKeeper 节点的更改并通过启动或停止程序来响应。</p>
<h4 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h4><ul>
<li>它需要作为参数。</li>
<li>ZooKeeper 服务的地址。</li>
<li>znode 的名称。</li>
<li>要将输出写入的文件的名称。</li>
<li>带参数的可执行文件。</li>
<li>它获取与znode关联的数据并启动可执行文件。</li>
<li>如果znode更改，则客户端将重新获取内容并重新启动可执行文件。</li>
<li>如果znode消失，客户端将终止可执行文件。</li>
</ul>
<h4 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h4><p>传统上，ZooKeeper 应用程序分为两个单元，一个维护连接，另一个监视数据。<br>在此应用程序中，名为Executor 的类维护ZooKeeper 连接，而名为DataMonitor 的类监视ZooKeeper 树中的数据。<br>此外，Executor 包含主线程并包含执行逻辑。它负责与用户进行的少量交互，以及与作为参数传递的exectuable 程序的交互，以及根据znode 的状态，根据要求关闭或重新启动。</p>
<h4 id="执行类"><a href="#执行类" class="headerlink" title="执行类"></a>执行类</h4><ul>
<li>Executor 对象是示例应用程序的主要容器，它包含ZooKeeper 的对象DataMonitor 。</li>
<li>Executor 的工作是启动和停止在命令行上传入其名称的可执行文件。它这是为了响应ZooKeeper 对象触发的事件。Executor 将对自身的引用作为ZooKeeper 构造函数中的Watcher 参数传递，它还将对自身的引用传递给DataMonitor 构造函数的DataMonitorListener 参数。</li>
<li>该Watcher 接口由Zookeeper 的Java API 定义。ZooKeeper 使用它来回传给它的容器。它只支持一种方法:process() ，并且ZooKeeper 使用它来传递主线程所在的通用事件。（例如ZooKeeper 连接或ZooKeeper会话的状态）</li>
<li>本例中的Executor 只是将这些事件转发到DataMonitor 决定如何处理它们，它这样做只是为了说明按照惯例，Executor 或类似Executor 的对象 <strong>拥有</strong> ZooKeeper 连接，但可以将事件委托给其他事件到其他对象，它还使用此作为触发监视事件的默认通道。</li>
<li>DataMonitor 对象使用它与其容器进行通信，该容器也是Executor 对象，DataMonitor是调用这些方法的对象，以响应ZooKeeper状态的变化。</li>
</ul>
<h4 id="数据逻辑类"><a href="#数据逻辑类" class="headerlink" title="数据逻辑类"></a>数据逻辑类</h4><ul>
<li>DataMonitor类具有ZooKeeper逻辑的功能。它主要是异步和事件驱动的。</li>
<li>调用ZooKeeper.exists() 检查是否存在znode ，设置监视，并将对self（this） 的引用作为完成回调对象传递。</li>
<li>当ZooKeeper.exists() 操作在服务器上完成时，ZooKeeper API 在客户端上调用此完成回调。</li>
</ul>
<h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><p>详细源代码请参考我的<a target="_blank" rel="noopener" href="https://github.com/vgbhfive/daliyCodeDemo">Github</a>地址。</p>
<hr>

<h3 id="使用Zookeeper-编程-基本教程"><a href="#使用Zookeeper-编程-基本教程" class="headerlink" title="使用Zookeeper 编程 - 基本教程"></a>使用Zookeeper 编程 - 基本教程</h3><p>我们使用ZooKeeper显示Barriers 和生产者 - 消费者队列的简单实现。我们将相应的类称为Barrier 和Queue 。</p>
<h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><h4 id="Barriers"><a href="#Barriers" class="headerlink" title="Barriers"></a>Barriers</h4><h4 id="生产者-消费者队列"><a href="#生产者-消费者队列" class="headerlink" title="生产者-消费者队列"></a>生产者-消费者队列</h4>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Zookeeper/" rel="tag"># Zookeeper</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/GraphQL-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" rel="prev" title="GraphQL-快速入门">
      <i class="fa fa-chevron-left"></i> GraphQL-快速入门
    </a></div>
      <div class="post-nav-item">
    <a href="/Dubbo-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" rel="next" title="Dubbo-快速入门">
      Dubbo-快速入门 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E7%9B%AE%E6%A0%87"><span class="nav-number">1.1.</span> <span class="nav-text">设计目标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%88%86%E5%B1%82%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">1.2.</span> <span class="nav-text">数据模型和分层命名空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E5%92%8C%E7%9F%AD%E6%9A%82%E8%8A%82%E7%82%B9"><span class="nav-number">1.3.</span> <span class="nav-text">节点和短暂节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E5%92%8C%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.4.</span> <span class="nav-text">状态更新和查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%85%E4%BF%9D"><span class="nav-number">1.5.</span> <span class="nav-text">担保</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E5%8D%95API"><span class="nav-number">1.6.</span> <span class="nav-text">简单API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%A5%E8%A1%8C"><span class="nav-number">1.7.</span> <span class="nav-text">履行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-number">1.8.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD"><span class="nav-number">1.9.</span> <span class="nav-text">性能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E9%9D%A0%E6%80%A7"><span class="nav-number">1.10.</span> <span class="nav-text">可靠性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A5%E9%97%A8"><span class="nav-number">2.</span> <span class="nav-text">入门</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD"><span class="nav-number">2.1.</span> <span class="nav-text">下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.</span> <span class="nav-text">操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E7%90%86Zookeeper-%E5%AD%98%E5%82%A8"><span class="nav-number">2.3.</span> <span class="nav-text">管理Zookeeper 存储</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5Zookeeper"><span class="nav-number">2.4.</span> <span class="nav-text">连接Zookeeper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E7%A8%8BZookeeper"><span class="nav-number">2.5.</span> <span class="nav-text">编程Zookeeper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E8%A1%8CZookeeper"><span class="nav-number">2.6.</span> <span class="nav-text">运行Zookeeper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%8C%96"><span class="nav-number">2.7.</span> <span class="nav-text">优化</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java-%E7%A4%BA%E4%BE%8B"><span class="nav-number">3.</span> <span class="nav-text">Java 示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A6%81%E6%B1%82"><span class="nav-number">3.1.</span> <span class="nav-text">要求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1"><span class="nav-number">3.2.</span> <span class="nav-text">设计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E7%B1%BB"><span class="nav-number">3.3.</span> <span class="nav-text">执行类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%80%BB%E8%BE%91%E7%B1%BB"><span class="nav-number">3.4.</span> <span class="nav-text">数据逻辑类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="nav-number">3.5.</span> <span class="nav-text">源代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Zookeeper-%E7%BC%96%E7%A8%8B-%E5%9F%BA%E6%9C%AC%E6%95%99%E7%A8%8B"><span class="nav-number">4.</span> <span class="nav-text">使用Zookeeper 编程 - 基本教程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.1.</span> <span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Barriers"><span class="nav-number">4.2.</span> <span class="nav-text">Barriers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%98%9F%E5%88%97"><span class="nav-number">4.3.</span> <span class="nav-text">生产者-消费者队列</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="vgbhfive"
      src="https://i.loli.net/2019/12/10/JF3dKDSkZoPz7h6.jpg">
  <p class="site-author-name" itemprop="name">vgbhfive</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">135</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/vgbhfive" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;vgbhfive" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:vgbhfive@foxmail.com" title="E-Mail → mailto:vgbhfive@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">陕ICP20002937号 </a>
  </div>

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">vgbhfive</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '2ff0dea213e4c7c0bbcc',
      clientSecret: '7f3d808240b513b00a1dbf20d725809acc316b67',
      repo        : 'vgbhfive.github.io',
      owner       : 'vgbhfive',
      admin       : ['vgbhfive'],
      id          : '4b528d796236e7e705e2221853dcfcca',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
